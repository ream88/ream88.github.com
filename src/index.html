<!DOCTYPE html>
<html lang="en">
<head>
  <title>mariouher.com</title>
  <meta charset="UTF-8" />
  <meta name="theme-color" content="#092115" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <!--INJECT_CSS_HERE-->
</head>
<body>
  <div id="glitch-container">
    <main></main>
  </div>
  <script>
    // Random phosphor fadeout duration (250-1000ms) on link hover
    document.addEventListener('mouseover', function(e) {
      if (e.target.matches('.Command a')) {
        var duration = 250 + Math.random() * 750;
        e.target.style.setProperty('--fadeout-duration', duration + 'ms');
      }
    });

    // Random glitch effect with 4 directions
    var glitchClasses = ['glitch-up', 'glitch-down', 'glitch-left', 'glitch-right'];
    var glitchTarget = document.getElementById('glitch-container');

    function doGlitch() {
      var glitchClass = glitchClasses[Math.floor(Math.random() * 4)];
      var intensity = 1.01 + Math.random() * 0.04;
      var brightness = 1.05 + Math.random() * 0.2;

      glitchTarget.style.setProperty('--glitch-intensity', intensity);
      glitchTarget.style.setProperty('--glitch-brightness', brightness);
      glitchTarget.classList.add(glitchClass);

      setTimeout(function() {
        glitchTarget.classList.remove(glitchClass);
      }, 150);
    }

    function triggerGlitch() {
      doGlitch();

      // 25% chance of double-glitch
      if (Math.random() < 0.25) {
        setTimeout(doGlitch, 80 + Math.random() * 100);
      }

      setTimeout(triggerGlitch, 1000 + Math.random() * 2000);
    }

    setTimeout(triggerGlitch, 1000 + Math.random() * 2000);
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-22268484-1', 'auto');
    ga('send', 'pageview');
  </script>
  <!--INJECT_JS_HERE-->
  <script>
    var app = Elm.Main.init({ node: document.querySelector('main') });
  </script>
</body>
</html>
